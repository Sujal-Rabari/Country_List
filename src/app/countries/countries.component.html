<!-- countries.component.html -->

<div class="container">

    <mat-form-field>
        <input matInput (keyup)="onSearchChange($event)" placeholder="Search for a country">
    </mat-form-field>

    <table mat-table [dataSource]="countries" matSort>
        <!-- Flag Column -->
        <ng-container matColumnDef="Flag">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Flag</th>
            <td mat-cell *matCellDef="let country"><img [src]="getFlagImage(country.Code2)" alt="Flag" class="flag-icon"
                    width="100px"></td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="Name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
            <td mat-cell *matCellDef="let country">{{ country.Name }}</td>
        </ng-container>

        <!-- Code Column -->
        <ng-container matColumnDef="Code">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Code</th>
            <td mat-cell *matCellDef="let country">{{ country.Code }}</td>
        </ng-container>

        <!-- Continent Column -->
        <ng-container matColumnDef="Continent">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Continent</th>
            <td mat-cell *matCellDef="let country">{{ country.Continent }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let country; columns: displayedColumns;" (click)="openDialog(country)"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 50, 100, 300]" [pageSize]="5" (page)="onPageChange($event)"
        #paginator></mat-paginator>
</div>
